# 운영체제
## 운영체제 구조
크고 복잡한 시스템은 정확히 동작하고 쉽게 변경될 수 있으려면, 하나의 시스템보다 태스크를 작은 구성요소로 분할하는 것이 좋다

### 모놀리식 구조
- 구조가 아예 없는 것
- 커널의 모든 기능을 단일 주소 공간에서 실행되는 단일 정적 이진 파일에 넣는 것
- 커널에 대한 시스템 콜 인터페이스부터 하드웨어 위까지 모두 커널 
- 하나의 주소 공간으로 결합하기에 엄청 많은 기능

**장점**
- 성능 좋음: 시스템 콜 인터페이스에는 오버헤드가 거의 없고 커널 안에서의 통신 속도가 빠름

**단점**
- 구현 및 확장 어려움

### 계층적 접근
- 개별적이고 작은 구성요소로 나뉘고, 모든 구성요소가 합쳐져 커널 구성
- 모듈화 방식 중 하나<br>
: 한 구성요소의 변경이 해당 구성요소에만 영향 미치고 다른 구성요소에는 영향을 미치지 않음
- 운영체제가 여러 층으로 나뉨<br> 
: 최하위 층은 하드웨어 층, 최상위 층은 사용자 인터페이스<br>
: 운영체제 층은 데이터와 이를 조작하는 연산으로 구성된 추상 객체의 구현
- 각 층은 자신보다 하위 수준의 층에 의해 제공된 연산들만 사용해 구현

**장점**
- 구현과 디버깅 간단

**단점**
- 각 계층 기능을 적절히 정의하는데 어려움
- 운영체제 서비스를 얻기 위해 사용자 프로그램이 여러 계층을 통과해야 하는 오버헤드 발생

### 마이크로커널
- 중요치 않은 구성요소를 커널로부터 제거하고, 그들을 별도의 주소 공간에 사용자 프로그램으로 구현
- 더 작은 커널
- 주 기능: 통신 제공
- 통신은 메시지 전달. 클라이언트 프로그램과 서비스가 직접 상호 작용하지 않고, 마이크로커널과 메시지 교환하며 간접적 상호 작용

**장점**
- 운영체제 확장 쉽다<br>
-> 새로운 서비스는 사용자 공간에 추가되며, 커널 변경 필요x <br>
-> 결과적으로 운영체제는 다른 하드웨어로 이식이 쉽다
- 높은 보안성과 신뢰성: 한 서비스가 잘못돼도 운영체제의 다른 부분은 영향 x

**단점**
- 두 개의 사용자 수준 서비스가 통신해야 하는 경우 별도 주소 공간에 서비스가 존재하기 때문에 메시지가 복사되어야 하며, 메시지 교환을 위해 프로세스 문맥 전환이 필요 <br> 
-> 오버헤드 

### 모듈
- 적재가능 커널 모듈(LKM) 기법 사용 
- 커널은 핵심 구성요소를 가지고 있고 실행 중에 부가 서비스들을 모듈을 통해 링크 (다른 서비스들은 동적 구현)
- 커널의 각 부분이 정의되고 인터페이스 가진다는 점이 계층 구조와 비슷하나, 모듈에서 임의의 다른 모듈을 호출할 수 있다는 점에서 계층 구조보다 유연하고, 통신 위해 메시지 전달을 호출할 필요가 없어서 효율적
- 단일 커널 공간 기반으로 모든 운영체제 기능이 동일 커널에서 동작하기 떄문에 모듈은 커널 내 함수 호출로 통신
- LKM은 런타임 중 커널에 삽입되거나 제거될 수 있다.

### 하이브리드 시스템
성능, 보안, 편리성 문제를 해결하려는 혼용 구조